resample: True
resample_generate: True
resample_eval: False

template_training:
  _target_: src.data.gdr3_dataclasses.GDR3DataModuleTop

  data_config:
    data_dir: ${private.data_dir} 
    patch_id: patch_l198.00_b32.23
    feature_list:
      - latitude_galactic_local
      - longitude_galactic_local
      - color_bp_magnitude_minus_rp_magnitude
      - magnitude_g_band_mean_integrated
      - proper_motion_galactic_local_longitude_cos_latitude #make sure the proper motions are always last - because they are used for the split
      - proper_motion_galactic_local_latitude
    context: "proper_motion_galactic_local_latitude"
    bins: [-13.186211, -7.1862106, -1.1862106, 4.8137894]
    split_frac: 0.2
    resample: ${data.resample}
    minmax: True
  load_config:
    batch_size: 256
    num_workers: 16
    pin_memory: False
    drop_last: True
    persistent_workers: true

# Please change everything that goesm below!!!

export_template:
  _target_: src.data.gdr3_dataclasses.GDR3DataModuleTop
  data_config:
    data_dir: ${private.data_dir} 
    patch_id: patch_l198.00_b32.23
    feature_list:
      - latitude_galactic_local
      - longitude_galactic_local
      - color_bp_magnitude_minus_rp_magnitude
      - magnitude_g_band_mean_integrated
      - proper_motion_galactic_local_longitude_cos_latitude #make sure the proper motions are always last - because they are used for the split
      - proper_motion_galactic_local_latitude
    context: "proper_motion_galactic_local_latitude"
    bins: [-13.186211, -7.1862106, -1.1862106, 4.8137894]
    split_frac: 0.2
    resample: ${data.resample_generate}
    minmax: True
  load_config:
    batch_size: 2048
    num_workers: 16
    pin_memory: False
    drop_last: False

export_SB1:
  _target_: src.data.gdr3_dataclasses.GDR3DataModuleTop
  data_config:
    data_dir: ${private.data_dir} 
    sample_bin: SB1
    patch_id: patch_l198.00_b32.23
    feature_list:
      - latitude_galactic_local
      - longitude_galactic_local
      - color_bp_magnitude_minus_rp_magnitude
      - magnitude_g_band_mean_integrated
      - proper_motion_galactic_local_longitude_cos_latitude #make sure the proper motions are always last - because they are used for the split
      - proper_motion_galactic_local_latitude
    context: "proper_motion_galactic_local_latitude"
    bins: [-13.186211, -7.1862106, -1.1862106, 4.8137894]
    split_frac: 0.2
    resample: ${data.resample_generate}
    only_one_sb: "sb2"
    minmax: True
  load_config:
    batch_size: 2048
    num_workers: 16
    pin_memory: False
    drop_last: False

export_SB2:
  _target_: src.data.gdr3_dataclasses.GDR3DataModuleTop
  data_config:
    data_dir: ${private.data_dir} 
    sample_bin: SB2
    patch_id: patch_l198.00_b32.23
    feature_list:
      - latitude_galactic_local
      - longitude_galactic_local
      - color_bp_magnitude_minus_rp_magnitude
      - magnitude_g_band_mean_integrated
      - proper_motion_galactic_local_longitude_cos_latitude #make sure the proper motions are always last - because they are used for the split
      - proper_motion_galactic_local_latitude
    context: "proper_motion_galactic_local_latitude"
    bins: [-13.186211, -7.1862106, -1.1862106, 4.8137894]
    split_frac: 0.2
    resample: ${data.resample_generate}
    only_one_sb: "sb1"
    minmax: True
  load_config:
    batch_size: 2048
    num_workers: 16
    pin_memory: False
    drop_last: False

eval_SB1:
  _target_: src.data.gdr3_dataclasses.GDR3DataModuleTop
  data_config:
    data_dir: ${private.data_dir} 
    sample_bin: SB1
    patch_id: patch_l198.00_b32.23
    feature_list:
      - latitude_galactic_local
      - longitude_galactic_local
      - color_bp_magnitude_minus_rp_magnitude
      - magnitude_g_band_mean_integrated
      - proper_motion_galactic_local_longitude_cos_latitude #make sure the proper motions are always last - because they are used for the split
      - proper_motion_galactic_local_latitude
    context: "proper_motion_galactic_local_latitude"
    bins: [-13.186211, -7.1862106, -1.1862106, 4.8137894]
    split_frac: 0.2
    resample: ${data.resample_eval}
    only_one_sb: "sb2"
    minmax: True
  load_config:
    batch_size: 2048
    num_workers: 16
    pin_memory: False
    drop_last: False

export_latent_all:
  _target_: src.data.gdr3_dataclasses.GDR3DataModuleTop

  data_config:
    data_dir: ${private.data_dir} 
    patch_id: patch_l198.00_b32.23
    feature_list:
      - latitude_galactic_local
      - longitude_galactic_local
      - color_bp_magnitude_minus_rp_magnitude
      - magnitude_g_band_mean_integrated
      - proper_motion_galactic_local_longitude_cos_latitude #make sure the proper motions are always last - because they are used for the split
      - proper_motion_galactic_local_latitude
    context: "proper_motion_galactic_local_latitude"
    bins: [-13.186211, -7.1862106, -1.1862106, 4.8137894]
    split_frac: 0.2
    resample: ${data.resample_eval}
    minmax: True
  load_config:
    batch_size: 2048
    num_workers: 16
    pin_memory: False
    drop_last: False

# Some datasets for evaluation

eval_SB2:
  _target_: src.data.gdr3_dataclasses.GDR3DataModuleTop
  data_config:
    data_dir: ${private.data_dir} 
    sample_bin: SB2
    patch_id: patch_l198.00_b32.23
    feature_list:
      - latitude_galactic_local
      - longitude_galactic_local
      - color_bp_magnitude_minus_rp_magnitude
      - magnitude_g_band_mean_integrated
      - proper_motion_galactic_local_longitude_cos_latitude #make sure the proper motions are always last - because they are used for the split
      - proper_motion_galactic_local_latitude
    context: "proper_motion_galactic_local_latitude"
    bins: [-13.186211, -7.1862106, -1.1862106, 4.8137894]
    split_frac: 0.2
    resample: ${data.resample_eval}
    only_one_sb: "sb1"
    minmax: True
  load_config:
    batch_size: 2048
    num_workers: 16
    pin_memory: False
    drop_last: False



eval_SR:
  _target_: src.data.gdr3_dataclasses.GDR3DataModuleTop
  data_config:
    data_dir: ${private.data_dir} 
    sample_bin: SR
    patch_id: patch_l198.00_b32.23
    feature_list:
      - latitude_galactic_local
      - longitude_galactic_local
      - color_bp_magnitude_minus_rp_magnitude
      - magnitude_g_band_mean_integrated
      - proper_motion_galactic_local_longitude_cos_latitude #make sure the proper motions are always last - because they are used for the split
      - proper_motion_galactic_local_latitude
    context: "proper_motion_galactic_local_latitude"
    bins: [-13.186211, -7.1862106, -1.1862106, 4.8137894]
    split_frac: 0.2
    resample: ${data.resample_eval}
    minmax: True
  load_config:
    batch_size: 2048
    num_workers: 16
    pin_memory: False
    drop_last: False
